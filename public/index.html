<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Outil de Gestion Budgétaire des Formations</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
    />
    <style>
      body {
        background-color: #f8f9fa;
      }
      .feature-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border-radius: 10px;
        overflow: hidden;
        height: 100%;
      }
      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }
      .feature-icon {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        color: #0d6efd;
      }
      .hero-section {
        background: linear-gradient(135deg, #0d6efd 0%, #6610f2 100%);
        color: white;
        padding: 5rem 0;
        margin-bottom: 3rem;
      }
      .nav-item .nav-link {
        color: rgba(255, 255, 255, 0.8);
      }
      .nav-item .nav-link:hover {
        color: white;
      }
      footer {
        background-color: #343a40;
        color: white;
        padding: 2rem 0;
        margin-top: 3rem;
      }
    </style>
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="/">Budget Manager</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="/users.html">Utilisateurs</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/clients.html">Clients</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/projects.html">Projets</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/funds.html">Appels de Fonds</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/sessions.html">Sessions</a>
            </li>
          </ul>
          <ul class="navbar-nav ms-auto">
            <!-- Le lien de connexion sera remplacé dynamiquement par le menu utilisateur si connecté -->
            <li class="nav-item">
              <a class="nav-link" href="/auth.html">
                <i class="bi bi-box-arrow-in-right me-1"></i>Connexion
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
      <div class="container text-center">
        <h1 class="display-4 fw-bold mb-4">
          Outil de Gestion Budgétaire des Formations
        </h1>
        <p class="lead mb-5">
          Une solution complète pour gérer vos budgets de formation, vos clients
          et vos sessions de formation.
        </p>
        <div id="heroButtons">
          <a
            href="/auth.html"
            class="btn btn-light btn-lg px-4 me-md-2"
            id="startButton"
            >Commencer</a
          >
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="container mb-5">
      <h2 class="text-center mb-5">Fonctionnalités</h2>
      <div class="row g-4">
        <div class="col-md-4">
          <div class="card mb-4 feature-card">
            <div class="card-body text-center">
              <div class="feature-icon">
                <i class="bi bi-people-fill"></i>
              </div>
              <h3 class="card-title">Utilisateurs</h3>
              <p class="card-text">
                Gérez les utilisateurs et leurs rôles dans le système.
              </p>
              <a href="/users.html" class="btn btn-primary"
                >Gérer les Utilisateurs</a
              >
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card mb-4 feature-card">
            <div class="card-body text-center">
              <div class="feature-icon">
                <i class="bi bi-building"></i>
              </div>
              <h3 class="card-title">Clients</h3>
              <p class="card-text">
                Gérez les informations de vos clients et leurs contacts.
              </p>
              <a href="/clients.html" class="btn btn-primary"
                >Gérer les Clients</a
              >
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card mb-4 feature-card">
            <div class="card-body text-center">
              <div class="feature-icon">
                <i class="bi bi-briefcase-fill"></i>
              </div>
              <h3 class="card-title">Projets</h3>
              <p class="card-text">
                Gérez vos projets de formation et leurs budgets.
              </p>
              <a href="/projects.html" class="btn btn-primary"
                >Gérer les Projets</a
              >
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card mb-4 feature-card">
            <div class="card-body text-center">
              <div class="feature-icon">
                <i class="bi bi-currency-euro"></i>
              </div>
              <h3 class="card-title">Appels de Fonds</h3>
              <p class="card-text">
                Gérez les demandes d'augmentation de budget pour vos projets.
              </p>
              <a href="/funds.html" class="btn btn-primary"
                >Gérer les Appels de Fonds</a
              >
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card mb-4 feature-card">
            <div class="card-body text-center">
              <div class="feature-icon">
                <i class="bi bi-calendar-event"></i>
              </div>
              <h3 class="card-title">Sessions</h3>
              <p class="card-text">
                Gérez les sessions de formation et suivez leur coût.
              </p>
              <a href="/sessions.html" class="btn btn-primary"
                >Gérer les Sessions</a
              >
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="text-center">
      <div class="container">
        <p>&copy; 2025 Budget Manager. Tous droits réservés.</p>
      </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/navbar.js"></script>
    <script src="/js/common.js"></script>
    <script>
      $(document).ready(function () {
        // Mettre à jour le bouton de démarrage en fonction de l'état de connexion
        if (isLoggedIn()) {
          const user = getCurrentUser();
          $("#startButton")
            .text("Accéder à mon tableau de bord")
            .attr("href", "/dashboard.html");

          // Ajouter un message de bienvenue personnalisé
          if (user) {
            $(".hero-section .lead").after(
              `<p class="mb-4">Bienvenue, ${
                user.firstName || user.username || "Utilisateur"
              } !</p>`
            );
          }
        }
      });
    </script>
  </body>
</html>
